var actual_track_id;function $(t){return document.getElementById(t)}function allowDrop(t){return t.preventDefault&&t.preventDefault(),t.dataTransfer.dropEffect="move",!1}function dragStart(t){var e=t.target.src,a=t.target.id,r=t.dataTransfer;r.setData("text/uri-list",e),r.setData("text/plain",a),r.dropEffect="move",t.target.style.opacity=.5,$("actual-song").classList.add("dashed-border")}function dragEnd(t){if(t.stopPropagation&&t.stopPropagation(),$("actual-song")==t.target){t.target.style.opacity=1;var e=t.dataTransfer,a=e.getData("text/plain"),r=e.getData("URL"),n=document.createElement("img");n.id=a,n.src=r,n.setAttribute("height",100),n.setAttribute("width",100),removePreviousTrack(t.target),t.target.append(n),t.target.classList.remove("dashed-border"),playSong(a)}return t.dataTransfer.clearData(),!1}function loadContent(t){var e=document.createElement("div"),a=document.createElement("img"),r=t.artwork_url;e.className="cover-image",null==r?(e.className="cover-image cover-image-default",a.alt="generic song image",a.src="./public/images/sound-png-5.png"):a.src=r,a.setAttribute("dragable","true"),a.setAttribute("ondragstart","dragStart(event)"),a.id=t.id,a.title=t.title,e.append(a),document.querySelector(".results").append(e)}function loadSongs(t){document.querySelector(".results").innerHTML="",SC.get("/tracks",{q:t}).then(function(t){if(t.length>0){$("playing-song").style.display="block";for(var e=0;e<t.length;e++){loadContent(t[e])}}else alert("No songs finded !")})}function playSong(t){actual_track_id=t,setPlayer(t)}function setPlayer(t){var e=document.getElementsByTagName("iframe")[0],a=document.querySelector(".player"),r="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/"+t;e.setAttribute("src",r),a.classList.remove("hidden")}function removePreviousTrack(t){t.innerHTML="",null!=actual_track_id&&($(actual_track_id).style.opacity=1,actual_track_id=void 0)}function searchSong(){var t=$("search").value;""!=t?loadSongs(t):console.warn("The search input is empty !")}$("search-button").addEventListener("click",function(t){t.preventDefault(),searchSong()}),window.addEventListener("keypress",function(t){13===t.keyCode&&searchSong()},!1),SC.initialize({client_id:"aa06b0630e34d6055f9c6f8beb8e02eb"});